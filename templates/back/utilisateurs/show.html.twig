{% extends 'base_back.html.twig' %}

{% block title %}{{ user.prenom }} {{ user.nom }} - Hospismart{% endblock %}

{% block content %}
<div class="back-page-header">
    <h1 class="back-page-title">ğŸ‘¤ Fiche utilisateur</h1>
    <div class="back-page-actions">
        <a href="{{ path('app_dashboard_utilisateurs_edit', { id: user.id }) }}" class="btn btn-edit" style="background:#3498db;color:#fff;">âœ Modifier</a>
        <a href="{{ path('app_dashboard_utilisateurs_list') }}" class="btn" style="background:#95a5a6;color:#fff;">â† Liste</a>
    </div>
</div>

<div class="back-form-card">
    <h3>Compte</h3>
    <table class="back-detail-table">
        <tr><td><strong>Id</strong></td><td>{{ user.id }}</td></tr>
        <tr><td><strong>Nom d'utilisateur</strong></td><td>{{ user.nom }}</td></tr>
        <tr><td><strong>PrÃ©nom</strong></td><td>{{ user.prenom }}</td></tr>
        <tr><td><strong>Email</strong></td><td>{{ user.email }}</td></tr>
        <tr><td><strong>TÃ©lÃ©phone</strong></td><td>{{ user.telephone ?? 'â€”' }}</td></tr>
        <tr><td><strong>RÃ´le(s)</strong></td><td>
            {% if 'ROLE_ADMIN' in user.roles %}<span class="badge badge-red">Admin</span>{% endif %}
            {% if 'ROLE_MEDECIN' in user.roles %}<span class="badge badge-blue">MÃ©decin</span>{% endif %}
            {% if 'ROLE_PATIENT' in user.roles %}<span class="badge badge-green">Patient</span>{% endif %}
        </td></tr>
    </table>
</div>

{% if patient %}
<div class="back-form-card">
    <h3>Profil patient</h3>
    <table class="back-detail-table">
        <tr><td><strong>Genre</strong></td><td>{{ patient.genre }}</td></tr>
        <tr><td><strong>Date de naissance</strong></td><td>{{ patient.dateNaissance ? patient.dateNaissance|date('d/m/Y') : 'â€”' }}</td></tr>
        <tr><td><strong>Groupe sanguin</strong></td><td>{{ patient.groupeSanguin ?? 'â€”' }}</td></tr>
        <tr><td><strong>Adresse</strong></td><td>{{ patient.adresse ?? 'â€”' }}</td></tr>
    </table>
</div>
{% endif %}

{% if medecin %}
<div class="back-form-card">
    <h3>Profil mÃ©decin</h3>
    <table class="back-detail-table">
        <tr><td><strong>SpÃ©cialitÃ©</strong></td><td>{{ medecin.specialite }}</td></tr>
        <tr><td><strong>Matricule</strong></td><td>{{ medecin.matricule }}</td></tr>
        <tr><td><strong>TÃ©lÃ©phone</strong></td><td>{{ medecin.telephone }}</td></tr>
        <tr><td><strong>Service</strong></td><td>{{ medecin.service ? medecin.service.nom : 'â€”' }}</td></tr>
    </table>
</div>
{% endif %}
{% endblock %}
